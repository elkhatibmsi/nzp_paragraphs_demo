id: paragraph__two_columns_equal
label: 'Two Columns Equal to Two Columns Paragraph'
migration_group: nzp_paragraphs
migration_tags:
  - Paragraphs
dependencies:
  enforced:
    module:
      - nzp_paragraphs
source:
  plugin: d7_paragraphs_item
  bundle: two_columns_equal
process:
  id: item_id
  field_two_columns_column_ratios: 
    plugin: default_value
    default_value: columns-50-50
  field_two_columns_column_1 : 
    - plugin: sub_process
      source: field_column_1
      process:
        target_id:
          - plugin: migration_lookup
            migration: 
              - paragraph__callout
              - paragraph__content_video
              - paragraph__grid
              - paragraph__slide
              - paragraph__slideshow_image_only
              - paragraph__single_image_with_caption
              - paragraph__text
            source: value
          - plugin: extract
            index:
              - 0
        target_revision_id:
          - plugin: migration_lookup
            migration: 
              - paragraph__callout
              - paragraph__content_video
              - paragraph__grid
              - paragraph__slide
              - paragraph__slideshow_image_only
              - paragraph__single_image_with_caption
              - paragraph__text

            source: value
          - plugin: extract
            index:
              - 1
  field_two_columns_column_2 : 
  - plugin: sub_process
    source: field_column_2
    process:
      target_id:
        - plugin: migration_lookup
          migration: 
            - paragraph__callout
            - paragraph__content_video
            - paragraph__grid
            - paragraph__slide
            - paragraph__slideshow_image_only
            - paragraph__single_image_with_caption
            - paragraph__text
          source: value
        - plugin: extract
          index:
            - 0
      target_revision_id:
        - plugin: migration_lookup
          migration: 
            - paragraph__callout
            - paragraph__content_video
            - paragraph__grid
            - paragraph__slide
            - paragraph__slideshow_image_only
            - paragraph__single_image_with_caption
            - paragraph__text

          source: value
        - plugin: extract
          index:
            - 1
destination:
  plugin: 'entity_reference_revisions:paragraph'
  default_bundle: two_columns

migration_dependencies:
  required: 
    - paragraph__callout
    - paragraph__content_video
    - paragraph__grid
    - paragraph__slide
    - paragraph__slideshow_image_only
    - paragraph__single_image_with_caption
    - paragraph__text

  optional: {  }


  
